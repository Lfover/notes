# c++进阶

# 类

面向对象

类的定义

访问限定符

封装

作用域

实例化

类的大小

## this指针 

> 能否为空
>
> 1.如果在成员函数中没有访问成员变量或者调用成员函数，则不会崩溃
>
> 2.如果在成员函数中访问成员变量或者调用成员函数，则会崩溃

### 必须在构造函数初始化列表位置进行初始化的成员

> 1.引用类型的成员函数
>
> 2.const类型的成员函数
>
> 3.A类中包含有B类的对象，并且B类只具有带有参数的构造函数（注意是全缺省的构造函数）

| 静态成员函数                                                 | 普通函数                                   |
| ------------------------------------------------------------ | ------------------------------------------ |
| 调用：对象.静态成员函数名（）；类名::静态成员函数名          | 对象。成员函数（）;                        |
| 内部没有this指针，没有隐藏的this指针                         | 有this指针                                 |
| 静态成员函数中不能访问非静态成员变量，不能访问非静态成员函数 | 可以访问静态成员函数，可以访问静态成员变量 |
| 静态成员函数不能使用const进行修饰，因为const修饰成员函数，本质在修饰this指针，而静态成员函数是没有this指针的 | 可以被const修饰                            |
| 静态成员函数默认调用约定：_cdecl                             | 默认调用约定：this_call                    |
|                                                              |                                            |
|                                                              |                                            |

构造函数/拷贝构造函数/赋值运算符重载/析构函数都不能被static修饰

# C语言动态内存管理的方式

### malloc calloc realloc相同点

> 1.都是C语言中用来进行动态内存申请的库函数
>
> 2.申请的空间都在堆上，用完之后必须要使用free来进行释放
>
> 3.如果申请空间成功，返回空间的首地址，如果申请失败返回的是NULL，因此在使用之前必须判空
>
> 4.返回值都是void*类型，在接收返回值时必须要强转

### malloc calloc realloc不同点

> 1.void* malloc(size_t size)
>
> malloc的参数时用户所申请空间的字节数，申请空间成功返回空间的首地址，如果申请失败，返回的是空，用户在及逆行接收时必须强转，在使用时必须要进行判空，使用完成后必须要借助free来进行释放
>
> 2.void* calloc(size_t num, size_t size)
>
> 参数个数不同：num表示元素个数，size表示单个元素的所占字节数
>
> 功能上唯一的不同是：calloc会将其申请的空间初始化为0
>
> void* realloc(void* p, size_t size):将p指向堆空间的大小调整到size字节
>
> 假设P指向的是oldsize，
>
> 当size <= oldsize 将p指向的空间缩小，然后返回原空间的首地址即可
>
> size > oldsize  将p指向的空间放大
>
> ​	大一点，直接在原有基础上扩大，
>
> ​	大很多，重新申请一段内存，将旧内容拷贝到新空间去，释放旧空间， 返回新空间地址

### 为什么C++需要单独的一套内存管理方式

> 在C++中，使用malloc/free在堆上申请或释放内置类型的空间没有任何问题，但是不能采用malloc从堆上申请对象的空间，因为malloc不会主动调用构造函数，因此该块空间不能称为对象，而只是与对象大小相同的一块堆空间，也不能使用free释放堆空间，因为free在释放对象空间时，不会对奥用析构函数将对象中的资源清理干净   、                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          

继承

1.继承的概念和定义

2.基类和派生类对象赋值转换

3.继承中的作用域

4.派生类的默认成员函数

5.继承与友元

6.继承与静态成员

7.复杂的零星继承及菱形继承虚拟继承

8.继承的总结和反思

9.笔试面试题





多态

多态1

多态2

 	

四种情况比编译器会自动给类生成默认的构造函数

> * A类中包含B类的对象，A类没有显示定义构造函数，B类带有无参或全缺省的构造函数
> * B类继承自A类，A类没有显示定义任何构造函数，B类带有无参或者全缺省发构造函数
> * 在虚拟继承中，编译器一定会给子类生成构造函数
> * 类中如果包含有虚函数，编译器一定会给该类生成构造函数

# 红黑树

##  性质

> 1.每个结点都有颜色：红色黑色
>
> 2.根节点一定是黑色的
>
> 3.如果一个结点是红色的，则其孩子结点一定是黑色的-----》没有连在一起的红色结点
>
> 4.对于每个结点，从该节点到其所有的后代叶结点的简单路径上，均包含相同数目的黑色节点（每条路径中黑色结点的个数是相同的
>
> 5.所有“叶子结点”都是黑色的（不是平常理解的叶子结点：度为0的结点||没有左右孩子的结点）
>
> 

为什么红黑树在经过上述的性质限制后， 可以保证：最长路径中结点的个数不会超过最短路径中结点个数的两倍

> 

迭代器本质

就是一个指针或是对指针进行的封装

vector和string两个迭代器就是原生态的指针：因为底层空间是连续的

### 如何给一个容器增加迭代器

1.必须要熟悉容器底层的数据结构

2.分析：迭代器设计成原生态指针||需要对指针进行哪些封装

3.创建一个迭代器类

> 1.构造方法
>
> 2.具有指针类似的方法：operator*() operator->()
>
> 3.要能移动：opreator++()/operator++(int) operator--()/operator--(int),注意有些容器可能没有，比如单链表
>
> 4.要能够比较：operator!=()/operator==()

4.在容器类中给迭代器类型取别名：typedef迭代器类型iterator

5.在容器类中增加begin()/end()